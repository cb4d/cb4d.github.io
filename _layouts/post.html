<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>{{ page.title }} - {{ site.title }}</title>
    <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
  </head>
  <body>
    {%- assign date_format = '%d %B %Y' -%}

    <div id="root">
      <div class="pageNavigation">
        {% if page.previous.url %}
          <a class="prev-post" href="{{page.previous.url}}">&laquo; {{page.previous.title}}</a>
        {% endif %}
        {% if page.next.url %}
          <a class="next-post" href="{{page.next.url}}">{{page.next.title}} &raquo;</a>
        {% endif %}
      </div>
      <!-- all blog posts have blog as the root category but do not show it on the page -->

      <h1>{{ page.title }}</h1>

      <div id="post-meta">
        <p>
          {{ page.categories | join: " // " | remove: "blog" | remove_first: " // " }}
        </p>

        <p>
          published {{ page.date | date: date_format }}
          {%- if page.last_modified_at -%}
          <br>updated {{ page.last_modified_at | date: date_format }}
          {%- endif -%}
        </p>
      </div>

      {% assign date = page.date | date: "%Y-%m-%d" %}
      {% assign photos_for_date = site.data.google-photos[date] %}
      {% if photos_for_date %}
        <div id="images-flex">
          {% for photo_url in site.data.google-photos[date] %}
              <img src="{{ photo_url }}-w512" />
          {% endfor %}
        </div>
      {% endif %}

      <div id="content">
        {{ content }}
      </div>
    </div>
  </body>
</html>
